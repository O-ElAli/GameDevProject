[gd_scene load_steps=19 format=3 uid="uid://csp8hwwrci1iy"]

[ext_resource type="Script" uid="uid://bej3684kpdmq8" path="res://scripts/Npc/npc.gd" id="1_37ake"]
[ext_resource type="Texture2D" uid="uid://bw746mw18lg3s" path="res://assets/Characters/NPCs/matrixSERIESfreebies/upscaled48x48/$morpheusmatrix.png" id="2_37ake"]
[ext_resource type="Resource" uid="uid://doectsk62do5w" path="res://resources/NPC/test_npc.tres" id="2_tlawm"]
[ext_resource type="PackedScene" uid="uid://b3ts4syrygxeo" path="res://Interaction/NPC/npc_interaction.tscn" id="3_r2mia"]
[ext_resource type="Script" uid="uid://bquehj3xedq4" path="res://scripts/Npc/patrol_behavior.gd" id="3_tlawm"]
[ext_resource type="PackedScene" uid="uid://c40h00sbv0l0y" path="res://Scenes/Dialogue/dialogue.tscn" id="4_qxiy1"]
[ext_resource type="Script" uid="uid://dnhtv77nf6s3f" path="res://scripts/Npc/patrol_location.gd" id="4_r2mia"]
[ext_resource type="PackedScene" uid="uid://d06523r6uwlmc" path="res://Scenes/Player/Player.tscn" id="7_b2drp"]

[sub_resource type="Animation" id="Animation_tlawm"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_37ake"]
resource_name = "idle_down"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_b2drp"]
resource_name = "idle_side"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [7]
}

[sub_resource type="Animation" id="Animation_r2mia"]
resource_name = "idle_up"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [10]
}

[sub_resource type="Animation" id="Animation_qxiy1"]
resource_name = "walk_down"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 2, 0, 2]
}

[sub_resource type="Animation" id="Animation_fpqpt"]
resource_name = "walk_side"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [6, 7, 8, 7]
}

[sub_resource type="Animation" id="Animation_uy66f"]
resource_name = "walk_up"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [9, 10, 11, 10]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fvu2l"]
_data = {
&"RESET": SubResource("Animation_tlawm"),
&"idle_down": SubResource("Animation_37ake"),
&"idle_side": SubResource("Animation_b2drp"),
&"idle_up": SubResource("Animation_r2mia"),
&"walk_down": SubResource("Animation_qxiy1"),
&"walk_side": SubResource("Animation_fpqpt"),
&"walk_up": SubResource("Animation_uy66f")
}

[sub_resource type="Gradient" id="Gradient_r2mia"]
offsets = PackedFloat32Array(0.480519, 0.798701, 0.993506)
colors = PackedColorArray(1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tlawm"]
gradient = SubResource("Gradient_r2mia")
width = 24
height = 24
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[node name="NPC_Node" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("7_b2drp")]

[node name="NPC" type="CharacterBody2D" parent="."]
position = Vector2(725, 348)
script = ExtResource("1_37ake")
data = ExtResource("2_tlawm")

[node name="npc_interaction" parent="NPC" instance=ExtResource("3_r2mia")]
npc_name = "Igor"
dialogue_system_path = NodePath("../../Dialogue")

[node name="Sprite2D" type="Sprite2D" parent="NPC"]
position = Vector2(0, -35)
texture = ExtResource("2_37ake")
hframes = 3
vframes = 4
frame = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="NPC"]
libraries = {
&"": SubResource("AnimationLibrary_fvu2l")
}

[node name="NpcBehaviorPatrol" type="Node2D" parent="NPC"]
position = Vector2(0, 2)
script = ExtResource("3_tlawm")

[node name="NPC_Way" type="Node2D" parent="NPC/NpcBehaviorPatrol"]
modulate = Color(1, 0, 0, 1)
show_behind_parent = true
position = Vector2(-2, -4)
script = ExtResource("4_r2mia")

[node name="Way" type="Sprite2D" parent="NPC/NpcBehaviorPatrol/NPC_Way"]
self_modulate = Color(1, 1, 1, 0.447059)
position = Vector2(-1, 3)
texture = SubResource("GradientTexture2D_tlawm")

[node name="Line2D" type="Line2D" parent="NPC/NpcBehaviorPatrol/NPC_Way/Way"]
points = PackedVector2Array(0, 0, -112, -59)
width = 1.0
default_color = Color(1, 1, 1, 0.552941)

[node name="Label" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way/Way"]
offset_left = -3.0
offset_top = -9.0
offset_right = 37.0
offset_bottom = 14.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 12
text = "0"
metadata/_edit_use_anchors_ = true

[node name="Label2" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way/Way"]
offset_left = -14.0
offset_top = 6.0
offset_right = 30.0
offset_bottom = 23.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 8
text = "wait: 0.0s"
metadata/_edit_use_anchors_ = true

[node name="NPC_Way2" type="Node2D" parent="NPC/NpcBehaviorPatrol"]
modulate = Color(1, 1, 0, 1)
show_behind_parent = true
position = Vector2(-114, -63)
script = ExtResource("4_r2mia")

[node name="Way" type="Sprite2D" parent="NPC/NpcBehaviorPatrol/NPC_Way2"]
self_modulate = Color(1, 1, 1, 0.447059)
position = Vector2(-1, 3)
texture = SubResource("GradientTexture2D_tlawm")

[node name="Line2D" type="Line2D" parent="NPC/NpcBehaviorPatrol/NPC_Way2/Way"]
points = PackedVector2Array(0, 0, 146, -17)
width = 1.0
default_color = Color(1, 1, 1, 0.552941)

[node name="Label" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way2/Way"]
offset_left = -3.0
offset_top = -9.0
offset_right = 37.0
offset_bottom = 14.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 12
text = "1"
metadata/_edit_use_anchors_ = true

[node name="Label2" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way2/Way"]
offset_left = -14.0
offset_top = 6.0
offset_right = 30.0
offset_bottom = 23.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 8
text = "wait: 0.0s"
metadata/_edit_use_anchors_ = true

[node name="NPC_Way3" type="Node2D" parent="NPC/NpcBehaviorPatrol"]
modulate = Color(0, 1, 0, 1)
show_behind_parent = true
position = Vector2(32, -80)
script = ExtResource("4_r2mia")

[node name="Way" type="Sprite2D" parent="NPC/NpcBehaviorPatrol/NPC_Way3"]
self_modulate = Color(1, 1, 1, 0.447059)
position = Vector2(-1, 3)
texture = SubResource("GradientTexture2D_tlawm")

[node name="Line2D" type="Line2D" parent="NPC/NpcBehaviorPatrol/NPC_Way3/Way"]
points = PackedVector2Array(0, 0, 102, 88)
width = 1.0
default_color = Color(1, 1, 1, 0.552941)

[node name="Label" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way3/Way"]
offset_left = -3.0
offset_top = -9.0
offset_right = 37.0
offset_bottom = 14.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 12
text = "2"
metadata/_edit_use_anchors_ = true

[node name="Label2" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way3/Way"]
offset_left = -14.0
offset_top = 6.0
offset_right = 30.0
offset_bottom = 23.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 8
text = "wait: 0.0s"
metadata/_edit_use_anchors_ = true

[node name="NPC_Way4" type="Node2D" parent="NPC/NpcBehaviorPatrol"]
modulate = Color(0, 1, 1, 1)
show_behind_parent = true
position = Vector2(134, 8)
script = ExtResource("4_r2mia")

[node name="Way" type="Sprite2D" parent="NPC/NpcBehaviorPatrol/NPC_Way4"]
self_modulate = Color(1, 1, 1, 0.447059)
position = Vector2(-1, 3)
texture = SubResource("GradientTexture2D_tlawm")

[node name="Line2D" type="Line2D" parent="NPC/NpcBehaviorPatrol/NPC_Way4/Way"]
points = PackedVector2Array(0, 0, -136, -12)
width = 1.0
default_color = Color(1, 1, 1, 0.552941)

[node name="Label" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way4/Way"]
offset_left = -3.0
offset_top = -9.0
offset_right = 37.0
offset_bottom = 14.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 12
text = "3"
metadata/_edit_use_anchors_ = true

[node name="Label2" type="Label" parent="NPC/NpcBehaviorPatrol/NPC_Way4/Way"]
offset_left = -14.0
offset_top = 6.0
offset_right = 30.0
offset_bottom = 23.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 0
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 8
text = "wait: 0.0s"
metadata/_edit_use_anchors_ = true

[node name="Dialogue" parent="." instance=ExtResource("4_qxiy1")]
